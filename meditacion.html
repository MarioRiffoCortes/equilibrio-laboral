<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meditaci√≥n</title>
    <link rel="stylesheet" href="css/global.css" />

  </head>
<body>
    <div class="container">
      <div class="menu-header">
        <img
          src="icons/back.png"
          alt="Regresar"
          class="icon-small"
          id="btn-back"
        />
        <img
          src="icons/settings.png"
          alt="Configuraci√≥n"
          class="icon-small-setting"
        />
      </div>

      <div class="menu-logo">
        <img src="icons/lotus.png" alt="Meditaci√≥n" />
      </div>
      <div class="title">Meditaci√≥n</div>

      <div class="question">DURACI√ìN</div>
      <div id="duracion-group">
        <button class="selector-btn duracion-btn" data-minutos="1">1 MIN.</button>
        <button class="selector-btn duracion-btn" data-minutos="5">5 MINS.</button>
        <button class="selector-btn duracion-btn" data-minutos="10">10 MINS.</button>
        <button class="selector-btn duracion-btn" data-minutos="20">20 MINS.</button>
      </div>

      <div class="question">M√öSICA</div>
      <select id="musica">
        <option value="" disabled selected>Seleccionar m√∫sica</option>
        <option value="relajante">Relajante</option>
        <option value="naturaleza">Sonidos de la naturaleza</option>
        <option value="instrumental">Instrumental suave</option>
      </select>

      <div class="question">MOTIVO</div>
      <select id="motivo">
        <option value="" disabled selected>Seleccionar motivo</option>
        <option value="estr√©s">Reducir estr√©s</option>
        <option value="concentracion">Mejorar concentraci√≥n</option>
        <option value="descanso">Descansar</option>
      </select>

      <button class="btn" id="inicioBtn">INICIO</button>
      <div class="toast-container" id="toastContainer"></div>
    </div>

    <script>
document.addEventListener("DOMContentLoaded", function () {
        const backButton = document.getElementById("btn-back");
        if (backButton) {
          backButton.addEventListener("click", function () {
            window.history.back(); // Vuelve a la p√°gina anterior
          });
        }
      });


      let duracionSeleccionada = null;

      // Manejo de selecci√≥n de duraci√≥n
      document.querySelectorAll(".duracion-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          document
            .querySelectorAll(".duracion-btn")
            .forEach((b) => b.classList.remove("selected"));
          btn.classList.add("selected");
          duracionSeleccionada = parseInt(btn.getAttribute("data-minutos"));
        });
      });

      // Evento del bot√≥n INICIO
      document.getElementById("inicioBtn").addEventListener("click", () => {
        if (!duracionSeleccionada) {
          mostrarToast("Por favor selecciona una duraci√≥n antes de iniciar.", 3000);
          return;
        }

        const tiempoMs = duracionSeleccionada * 60 * 1000;
        mostrarToast(`üßò‚Äç‚ôÄÔ∏è Meditaci√≥n iniciada por ${duracionSeleccionada} minutos.`, tiempoMs);
      });

      // Funci√≥n para mostrar el toast durante X milisegundos
      function mostrarToast(texto, duracionMs) {
        const container = document.getElementById("toastContainer");
        container.innerHTML = ""; // limpia mensajes previos
        const toast = document.createElement("div");

        toast.className = "toast";
        toast.textContent = texto;
        toast.style.animation = `fadeInOut ${duracionMs / 1000}s forwards`;

        container.appendChild(toast);

        // Eliminar el toast despu√©s del tiempo especificado
        setTimeout(() => {
          toast.remove();
        }, duracionMs);
      }
    </script>
  </body>
</html>